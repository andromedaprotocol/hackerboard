<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Andromeda Developer Board</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
    <link rel="stylesheet" href="style.css" />
</head>
<!-- Begin left hand side bar -->

<body>
    <button id="sidebarToggle" class="sidebar-toggle">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M3 12h18M3 6h18M3 18h18" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
    </button>

    <div class="sidebar">
        <div class="logo">
            <img src="https://avatars.githubusercontent.com/u/86694044?s=200&v=4" width="32" height="32"
                alt="Andromeda Logo">
            <span>Andromeda</span>
        </div>
        <nav>
            <a href="https://andromedaprotocol.io" class="nav-item" target="_blank">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke-width="2" stroke-linecap="round" />
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" stroke-width="2" />
                </svg>
                Visit our website
            </a>
            <a href="https://docs.andromedaprotocol.io/guides" class="nav-item" target="_blank">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke-width="2" stroke-linecap="round" />
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" stroke-width="2" />
                </svg>
                Guides
            </a>
            <a href="https://docs.andromedaprotocol.io/andromeda" class="nav-item" target="_blank">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke-width="2" stroke-linecap="round" />
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" stroke-width="2" />
                </svg>
                Developer Docs
            </a>
            <a href="https://andromeda-testnet-faucet.vercel.app/" class="nav-item" target="_blank">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path
                        d="M12 2v6M12 22v-6M4.93 4.93l4.24 4.24M14.83 14.83l4.24 4.24M2 12h6M22 12h-6M4.93 19.07l4.24-4.24M14.83 9.17l4.24-4.24"
                        stroke-width="2" stroke-linecap="round" />
                </svg>
                ANDR Faucet
            </a>
            <a href="https://app.testnet.andromedaprotocol.io/flex-builder" class="nav-item" target="_blank">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2L2 7l10 5 10-5-10-5z" stroke-width="2" />
                    <path d="M2 17l10 5 10-5" stroke-width="2" />
                    <path d="M2 12l10 5 10-5" stroke-width="2" />
                </svg>
                Testnet ADO Builder
            </a>
            <a href="https://app.testnet.andromedaprotocol.io/app-builder" class="nav-item" target="_blank">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke-width="2" />
                </svg>
                Testnet App Builder
            </a>
            <a href="https://app.testnet.andromedaprotocol.io/cli" class="nav-item" target="_blank">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M4 17l6-6-6-6M12 19h8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                Install the CLI
            </a>
            <a href="https://github.com/andromedaprotocol/embeddable-marketplace-demo" class="nav-item" target="_blank">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke-width="2" />
                </svg>
                Install a Demo
            </a>

            <a href="https://dashboard.andromedaprotocol.io/" class="nav-item" target="_blank">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <circle cx="12" cy="12" r="10" stroke-width="2" />
                    <path d="M12 6v6l4 2" stroke-width="2" stroke-linecap="round" />
                </svg>
                Dashboard
            </a>

            <a href="https://www.youtube.com/@AndromedaProtocol?sub_confirmation=1" target="_blank" class="nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path
                        d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                Subscribe on YouTube
            </a>
            <a href="https://twitter.com/intent/follow?screen_name=AndromedaProt" target="_blank" class="nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M6 18L18 6M6 6l12 12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                Follow us on X
            </a>
            <a href="https://docs.google.com/document/d/11VOKvuXkUryZ5p733af6h0Qgrg0bGl41E9i32QXgLos/edit?usp=sharing"
                target="_blank" class="nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <circle cx="12" cy="12" r="10" stroke-width="2" />
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <line x1="12" y1="17" x2="12" y2="17" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                ADO Submission FAQ
            </a>

        </nav>
    </div>
    <!-- end left hand side bar. -->

    <div class="main-content">
        <div class="mobile-logo">
            <img src="https://avatars.githubusercontent.com/u/86694044?s=200&v=4" alt="Andromeda Logo">
        </div>
        <div class="header-center">
            <h1>OpenSource Onboarding Platform</h1>
            <p class="subtitle">Begin Your Journey With Andromeda Here.</p>
        </div>
        <!-- Begin form -->

        <div class="content-grid">

            <div id="onboarding-form-container"></div>

            <!-- End form -->
            <!-- Begin right sidebar -->

            <div class="grid">
                <div class="card">
                    <div class="header-section">
                        <h2 class="header-title">Developer <span class="rocket-icon">üöÄ</span> Launchpad</h2>
                        <p class="onboard-check">Already onboarded?</p>
                        <div class="warning">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M12 2L2 7l10 5 10-5-10-5z" stroke-width="2" />
                                <path d="M2 17l10 5 10-5" stroke-width="2" />
                                <path d="M2 12l10 5 10-5" stroke-width="2" />
                            </svg>
                            <h1 class="header-subtitle header-subtitle-gold">DO THIS AFTER ONBOARDING</h1>
                        </div>
                    </div>
                    <ol class="launchpad-list">
                        <li class="launchpad-item highlighted">
                            <div class="launchpad-number">‚≠ê</div>
                            <p class="launchpad-description launchpad-description-dark">COMPLETE ALL OF THE FOLLOWING
                                TASKS TO JOIN THE ANDROMEDA FLIGHT CREW üëΩ</p>
                        </li>
                        <li class="launchpad-item highlighted">
                            <div class="launchpad-number">1</div>
                            <h4 class="launchpad-title">Join the Andromeda Developer Program</h4>
                            <p class="launchpad-description">Joining our telegram is the first step in becoming a part
                                of the Andromeda Developer Program. Here You will connect
                                with like-minded individuals and gain access to exclusive resources.</p>
                            <a href="https://t.me/andromedaprotocol/3776" class="launchpad-link external-link"
                                target="_blank">Join
                                Andromeda Dev TG</a>
                        </li>
                        <li class="launchpad-item highlighted">
                            <div class="launchpad-number">2</div>
                            <h4 class="launchpad-title">Introduce Yourself in the Telegram</h4>
                            <p class="launchpad-description"><strong><em>Once you're a member, introduce yourself by
                                        sharing yourbackground and aspirations. Here, you'll make friends and receive
                                        real-time
                                        support from the community.</p></em></strong></p>
                        </li>
                        <li class="launchpad-item">
                            <div class="launchpad-number">3</div>
                            <h4 class="launchpad-title">Master ADO Building</h4>
                            <p class="launchpad-description">Complete 8 comprehensive guides to understand the
                                fundamentals
                                of ADO development.</p>
                            <a href="https://docs.andromedaprotocol.io/guides/guides-and-examples/ado-builder"
                                class="launchpad-link external-link" target="_blank">Start ADO Builder Guides</a>
                        </li>
                        <li class="launchpad-item">
                            <div class="launchpad-number">4</div>
                            <h4 class="launchpad-title">Build Your First App</h4>
                            <p class="launchpad-description">Create a functional application using the Andromeda App
                                Builder.</p>
                            <a href="https://docs.andromedaprotocol.io/guides/guides-and-examples/app-builder/nft-auction-marketplace"
                                class="launchpad-link external-link" target="_blank">Explore App Builder Guide</a>
                        </li>
                        <li class="launchpad-item">
                            <div class="launchpad-number">5</div>
                            <h4 class="launchpad-title">Explore Embeddables</h4>
                            <p class="launchpad-description">Learn how to create Andromeda embeddables.</p>
                            <a href="https://docs.andromedaprotocol.io/guides/guides-and-examples/embeddables/nft-auction"
                                class="launchpad-link external-link" target="_blank">Try Embeddables Guide</a>
                        </li>
                        <li class="launchpad-item">
                            <div class="launchpad-number">6</div>
                            <h4 class="launchpad-title">Share Your Success</h4>
                            <p class="launchpad-description">Showcase your achievements and get recognition from the
                                community.</p>
                            <span class="launchpad-link">Post in Main Telegram Channel</span>
                        </li>
                        <li class="launchpad-item">
                            <div class="launchpad-number">7</div>
                            <h4 class="launchpad-title">Launch Your Project</h4>
                            <p class="launchpad-description">Take on real-world challenges and contribute to the
                                ecosystem.
                            </p>
                            <a href="https://github.com/andromedaprotocol/ado-database-hackerboard/issues"
                                class="launchpad-link external-link hackerboard-link" target="_blank">
                                Visit The üîóüîó ü™ì Hackerboard
                            </a>



                        </li>
                    </ol>
                </div>
            </div>
        </div>
        <!-- end right sidebar -->

        <!-- Begin bottom row of buttons -->

        <!-- suggested path box -->
        <div id="recommendations" class="recommendations-hidden">
            <h3 id="recommendations-title">‚ú® Recommended Paths ‚ú®</h3>
            <ul id="recommendation-list"></ul>
        </div>
        <!-- end suggested path box -->

        <!-- begins bottom row buttons -->

        <div class="submit-section">
            <h1 class="text-center">Already have ideas? Submit A New ADO or Feature!</h1>
            <div class="submit-buttons">
                <a href="https://github.com/andromedaprotocol/hackerboard_tasks/issues" target="_blank"
                    class="submit-button">Hackerboard (Bounties)</a>
                <a href="https://github.com/andromedaprotocol/ado-database/issues/new/choose" target="_blank"
                    class="submit-button">Submit
                    ADO Idea [poss. pay]</a>
                <a href="https://github.com/andromedaprotocol/Contractor_bidding/issues" target="_blank"
                    class="submit-button">Contracts for Bid (Solo/Team)</a>
                <a href="https://zealy.io/cw/andromedacommunity/questboard/ff856265-3649-4b5f-a41f-c19eadfaf2e0/36c50401-4e44-452a-9539-94b9f2451f3d"
                    target="_blank" class="submit-button">Ambassador Program</a>
                <a href="https://github.com/andromedaprotocol/ai_initiatives/issues" target="_blank"
                    class="submit-button">AI Initiatives</a>
            </div>
        </div>
    </div>
    <!-- end bottom row buttons -->




    <!-- Start script -->

    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {

            // Validation rules
            const validationRules = {
                name: {
                    validate: value => value.trim().length >= 2,
                    message: 'Please enter your full name (minimum 2 characters)'
                },
                email: {
                    validate: value => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value),
                    message: 'Please enter a valid email address'
                },
                github: {
                    validate: value => value.startsWith('https://github.com/') || value.startsWith('https://www.github.com/'),
                    message: 'Please enter a valid GitHub profile URL (https://github.com/...)'
                },
                telegram: {
                    validate: value => value.trim().length > 0,
                    message: 'Please enter your Telegram username'
                },
                location: {
                    validate: value => value.trim().length > 0,
                    message: 'Please enter your location'
                },
                x: {
                    validate: value => value.trim().length > 0,
                    message: 'Please enter your X/Twitter username'
                },
                portfolio: {
                    validate: value => !value.trim() || value.startsWith('http://') || value.startsWith('https://'),
                    message: 'Please enter a valid portfolio URL (or leave empty)'
                }
            };

            // Function to load the form
            function loadForm() {
                fetch('form.html')
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('onboarding-form-container').innerHTML = html;
                        // Re-initialize Choices.js and attach event listeners after the form is loaded
                        initializeFormInteractions();
                        initializeRelatedSkills();
                        detectUserLocation(); // Add location detection to here
                    })
                    .catch(error => {
                        console.error('Error loading the form:', error);
                        document.getElementById('onboarding-form-container').innerHTML = '<p>Failed to load the onboarding form.</p>';
                    });
            }

            // Call the function to load the form
            loadForm();

            function initializeFormInteractions() {
                // Re-initialize Choices.js for the selects within the loaded form
                const multipleSelects = document.querySelectorAll('#onboardingForm select[multiple]');
                multipleSelects.forEach(select => {
                    new Choices(select, { removeItemButton: true });
                });

                // Re-attach event listeners for validation and formatting
                Object.keys(validationRules).forEach(fieldId => {
                    const input = document.querySelector(`#onboardingForm #${fieldId}`);
                    if (input) {
                        input.addEventListener('input', () => validateField(input));
                        input.addEventListener('blur', () => validateField(input));
                    }
                });

                const githubInput = document.querySelector('#onboardingForm #github');
                if (githubInput) {
                    githubInput.addEventListener('blur', function () {
                        formatGithubUrl(this);
                    });
                    githubInput.addEventListener('focus', function () {
                        if (this.value === '') {
                            this.value = 'https://github.com/';
                        }
                    });
                    githubInput.addEventListener('blur', function () {
                        if (this.value === 'https://github.com/') {
                            this.value = ''; // Clear if the user didn't add anything
                        }
                    });
                }

                const telegramInput = document.querySelector('#onboardingForm #telegram');
                if (telegramInput) {
                    telegramInput.addEventListener('blur', function () {
                        formatSocialHandle(this, '@');
                    });
                }

                const xInput = document.querySelector('#onboardingForm #x');
                if (xInput) {
                    xInput.addEventListener('blur', function () {
                        formatSocialHandle(this, '@');
                    });
                }

                // Re-attach the form submission listener
                const onboardingForm = document.getElementById("onboardingForm");
                if (onboardingForm) {
                    onboardingForm.addEventListener("submit", handleFormSubmit);
                }
            }

            async function handleFormSubmit(e) {
                e.preventDefault();

                // Validate all fields before submission
                let isValid = true;
                Object.keys(validationRules).forEach(fieldId => {
                    const input = document.querySelector(`#onboardingForm #${fieldId}`);
                    if (input && !validateField(input)) {
                        isValid = false;
                    }
                });

                if (!isValid) {
                    alert('Please correct the errors before submitting.');
                    return;
                }

                const submitButton = document.querySelector('#onboardingForm button[type="submit"]');
                const originalButtonText = submitButton.innerHTML;
                submitButton.innerHTML = '<span class="loading-spinner"></span>Submitting...';
                submitButton.disabled = true;

                try {
                    const data = {
                        name: document.querySelector(`#onboardingForm #name`).value.trim(),
                        email: document.querySelector(`#onboardingForm #email`).value.trim(),
                        github: document.querySelector(`#onboardingForm #github`).value.trim(),
                        telegram: document.querySelector(`#onboardingForm #telegram`).value.trim(),
                        x: document.querySelector(`#onboardingForm #x`).value.trim(),
                        location: document.querySelector(`#onboardingForm #location`).value.trim(),
                        spokenLanguages: Array.from(document.querySelector(`#onboardingForm #spokenLanguages`).selectedOptions).map(option => option.value),
                        frontendSkills: Array.from(document.querySelector(`#onboardingForm #frontendSkills`).selectedOptions).map(option => option.value),
                        languages: Array.from(document.querySelector(`#onboardingForm #languages`).selectedOptions).map(option => option.value),
                        tools: Array.from(document.querySelector(`#onboardingForm #tools`).selectedOptions).map(option => option.value),
                        blockchainExperience: Array.from(document.querySelector(`#onboardingForm #blockchainExperience`).selectedOptions).map(option => option.value),
                        goals: document.querySelector(`#onboardingForm #goals`).value,
                        experience: document.querySelector(`#onboardingForm #experience`).value,
                        hackathonExperience: document.querySelector(`#onboardingForm #hackathonExperience`).value,
                        education: document.querySelector(`#onboardingForm #education`).value,
                        availability: document.querySelector(`#onboardingForm #availability`).value,
                        portfolio: document.querySelector(`#onboardingForm #portfolio`).value.trim(),
                        additionalSkills: document.querySelector(`#onboardingForm #additionalSkills`).value.trim(),
                        aiExperience: Array.from(document.querySelector(`#onboardingForm #aiExperience`).selectedOptions).map(option => option.value), // Now an array
                        relevantProjects: document.querySelector(`#onboardingForm #relevantProjects`).value.trim(),
                        submissionDate: new Date().toISOString()
                    };

                    const response = await fetch("https://script.google.com/macros/s/AKfycbyRWGtJ86aoyGdzR7EuubwibnoFFaQr4K36x7mdPVR5t3_HcOoMEnHP7QrFBf7DmlLI/exec", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify(data)
                    });

                    const result = await response.json();


                    if (result.result === 'success') {
                        displayRecommendations(result.recommendations); // Display recommendations
                        // Display success message and recommendations
                        const successMessage = document.createElement('div');
                        successMessage.className = 'success-message';
                        successMessage.innerHTML = `
                        <h3>üéâ Welcome to Andromeda!</h3>
                        <p>Your developer application has been successfully submitted.</p>
                        <div id="recommendations" class="recommendations-hidden">
                          <h3 id="recommendations-title">‚ú® Recommended Paths ‚ú®</h3>
                          <ul id="recommendation-list"></ul>
                        </div>
                        <div class="next-steps">
                            <h4>üöÄ Next Steps:</h4>
                            <ol>
                                <li>Join our <a href="https://t.me/andromedaprotocol" target="_blank">Telegram group</a></li>
                                <li>Introduce yourself to the community</li>
                                <li>Level up with our <a href="https://docs.andromedaprotocol.io/guides" target="_blank">web app guides</a>. Ready for more? Dive into our <a href="https://docs.andromedaprotocol.io" target="_blank">developer docs</a>.</li>
                            </ol>
                        </div>
                    `;

                        const formElement = document.getElementById("onboardingForm");
                        formElement.parentNode.insertBefore(successMessage, formElement);
                        setTimeout(() => successMessage.classList.add('show'), 100);

                        // Reset form fields
                        formElement.reset();

                        // Reset Choices.js selections using the stored instances
                        const choicesInstances = Array.from(multipleSelects).map(select => Choices.for(select));
                        choicesInstances.forEach(instance => {
                            instance.removeActiveItems(); // Remove selected items
                            instance.setChoiceByValue(''); // Reset to placeholder
                        });
                    }

                } catch (error) {
                    console.error("Error:", error);

                } finally {
                    submitButton.innerHTML = originalButtonText;
                    submitButton.disabled = false;
                }
            }

            // Validation function
            function validateField(input) {
                const formGroup = input.closest('.form-group');
                const rule = validationRules[input.id];

                if (!rule) return true;

                const errorMessage = formGroup.querySelector('.error-message');
                const isValid = rule.validate(input.value);

                formGroup.classList.remove('error', 'success');
                if (!isValid) {
                    formGroup.classList.add('error');
                    errorMessage.textContent = rule.message;
                } else {
                    formGroup.classList.add('success');
                }

                return isValid;
            }

            // URL formatting helpers
            function formatGithubUrl(input) {
                let value = input.value.trim();

                if (!value.includes('github.com') && !value.includes('http')) {
                    value = `https://github.com/${value.replace('@', '')}`;
                }

                if (value.startsWith('http://')) {
                    value = value.replace('http://', 'https://');
                }

                if (!value.startsWith('http')) {
                    value = `https://${value}`;
                }

                input.value = value;
            }

            // Smart handle formatting
            function formatSocialHandle(input, prefix = '@') {
                let value = input.value.trim();
                if (value && !value.startsWith(prefix)) {
                    input.value = prefix + value;
                }
            }

            // Helper function to suggest a skill
            function suggestSkill(select, skill) {
                const choices = select.choices;
                if (choices && !Array.from(select.selectedOptions).some(option => option.value === skill)) {
                    const shouldAdd = confirm(`Would you like to add ${skill} to your skills? It's commonly used with your other selections.`);
                    if (shouldAdd) {
                        choices.setChoiceByValue(skill);
                    }
                }
            }


        });

        // Add sidebar toggle functionality
        document.addEventListener('DOMContentLoaded', function () {
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.querySelector('.sidebar');
            const mainContent = document.querySelector('.main-content');

            function toggleSidebar() {
                sidebar.classList.toggle('collapsed');
                mainContent.classList.toggle('expanded');
            }

            sidebarToggle.addEventListener('click', toggleSidebar);

            // Auto-collapse on mobile
            if (window.innerWidth <= 768) {
                toggleSidebar();
            }

            // Handle window resize
            window.addEventListener('resize', function () {
                if (window.innerWidth <= 768 && !sidebar.classList.contains('collapsed')) {
                    toggleSidebar();
                }
            });
        });
        // Function to simulate getting recommendations (replace with actual logic if possible)
        function getRecommendationsFromData(data) {
            // This is a placeholder. Ideally, you would get these recommendations from your server-side script.
            console.log("Data for recommendations:", data); // Log the data

            // Example:
            const recommendations = [];
            if (data.languages.includes('Rust') || data.languages.includes('JavaScript')) {
                recommendations.push({ path: "Hacker Board", match: "Potential Match" });
            }
            // Add more logic based on your scoring system

            return recommendations;
        }

        // Function to display recommendations
        function displayRecommendations(recommendations) {
            const recommendationsDiv = document.getElementById("recommendations");
            const recommendationList = document.getElementById("recommendation-list");
            recommendationList.innerHTML = ''; // Clear previous recommendations

            if (recommendations && recommendations.length > 0) {
                recommendations.forEach(rec => {
                    const listItem = document.createElement('li');
                    listItem.textContent = `${rec.path} (${rec.match})`;
                    recommendationList.appendChild(listItem);
                });
                recommendationsDiv.style.display = "block";
            } else {
                recommendationsDiv.style.display = "none";
            }
        }
        // Initialize skills based on other selections
        function initializeRelatedSkills() {
            const frontendSelect = document.querySelector('#onboardingForm #frontendSkills');
            const languagesSelect = document.querySelector('#onboardingForm #languages');
            const toolsSelect = document.querySelector('#onboardingForm #tools');
            const blockchainSelect = document.querySelector('#onboardingForm #blockchainExperience');

            blockchainSelect.addEventListener('change', function (e) {
                const choices = e.target.selectedOptions;
                const values = Array.from(choices).map(option => option.value);

                if (values.includes('Ethereum')) {
                    suggestSkill(languagesSelect, 'Solidity');
                    suggestSkill(toolsSelect, 'MetaMask');
                }

                if (values.includes('Cosmos SDK') || values.includes('CosmWasm')) {
                    suggestSkill(toolsSelect, 'Keplr Wallet');
                }
            });

            languagesSelect.addEventListener('change', function (e) {
                const choices = e.target.selectedOptions;
                const values = Array.from(choices).map(option => option.value);

                if (values.includes('JavaScript') || values.includes('TypeScript')) {
                    suggestSkill(frontendSelect, 'React');
                    suggestSkill(frontendSelect, 'Next.js');
                }
            });
        }
        // Location auto-detection
        async function detectUserLocation() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                const locationInput = document.querySelector('#onboardingForm #location');
                if (data.city && data.country_name) {
                    locationInput.value = `${data.city}, ${data.country_name}`;
                    const event = new Event('input');
                    locationInput.dispatchEvent(event);
                }
            } catch (error) {
                console.log('Location detection failed:', error);
            }
        }
    </script>
    <!-- End script -->
    <!-- Begin chat bot -->
    <script type="module">
        import Chatbot from "https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js"
        Chatbot.init({
            chatflowid: "8187a24b-e51e-48b8-91aa-8d3fe1cf3763",
            apiHost: "https://k6t250rsohel9c8b1pm2goel7k.ingress.akash-palmito.org",
            chatflowConfig: {
                /* Chatflow Config */
            },
            observersConfig: {
                /* Observers Config */
            },
            theme: {
                button: {
                    backgroundColor: '#3B81F6',
                    right: 20,
                    bottom: 20,
                    size: 48,
                    dragAndDrop: true,
                    iconColor: 'white',
                    customIconSrc: 'https://avatars.githubusercontent.com/u/86694044?s=200&v=4',
                    autoWindowOpen: {
                        autoOpen: true,
                        openDelay: 2,
                        autoOpenOnMobile: false
                    }
                },
                chatWindow: {
                    showTitle: true,
                    showAgentMessages: true,
                    title: 'Andromeda Bot',
                    titleAvatarSrc: 'https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/google-messages.svg',
                    welcomeMessage: 'Hello, if you have questions about Andromeda Protocol, ask me.',
                    errorMessage: 'An error has occurred. Please refresh the page and try again.',
                    backgroundColor: '#1C1C1C',
                    height: 700,
                    width: 400,
                    fontSize: 16,
                    starterPrompts: [
                        "Tell me about Andromeda Protocol",
                        "What is an ADO (Andromeda Digital Object)?"
                    ],
                    clearChatOnReload: true,
                    sourceDocsTitle: 'Sources:',
                    renderHTML: false,
                    botMessage: {
                        backgroundColor: '#0679e3',
                        textColor: '#ffffff',
                        showAvatar: true,
                        avatarSrc: 'https://avatars.githubusercontent.com/u/86694044?s=200&v=4'
                    },
                    userMessage: {
                        backgroundColor: '#2D2D2D',
                        textColor: '#ffffff',
                        showAvatar: true,
                        avatarSrc: 'https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/usericon.png'
                    },
                    textInput: {
                        placeholder: 'Type your question',
                        backgroundColor: '#303235',
                        textColor: '#ffffff',
                        sendButtonColor: '#3B81F6',
                        maxChars: 150,
                        maxCharsWarningMessage: 'You exceeded the character limit. Please input less than 150 characters.',
                        autoFocus: true,
                        /* sendMessageSound: true, */
                        /* sendSoundLocation: 'send_message.mp3', */
                        /* receiveMessageSound: true, */
                        /* receiveSoundLocation: 'receive_message.mp3' */
                    },
                    feedback: {
                        color: '#303235'
                    },
                    dateTimeToggle: {
                        date: true,
                        time: true
                    },
                    footer: {
                        textColor: 'gray',
                        text: 'Powered by',
                        company: 'Andromeda',
                        companyLink: 'https://AndromedaProtocol.io'
                    },
                    customCSS: `
                    .chat-title-bar {
                        background-color: #2D2D2D;
                        color: #FFFFFF;
                        font-family: 'Arial', sans-serif;
                        font-size: 16px;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        padding: 10px;
                    }
                    .fullscreen-toggle {
                        background: none;
                        border: none;
                        color: white;
                        font-size: 18px;
                        cursor: pointer;
                    }
                    .fullscreen-toggle:hover {
                        color: #3B81F6;
                    }
                    .chat-window.fullscreen {
                        position: fixed !important;
                        top: 0 !important;
                        left: 0 !important;
                        width: 100% !important;
                        height: 100% !important;
                        z-index: 9999 !important;
                        border-radius: 0 !important;
                        box-shadow: none !important;
                    }
                `
                }
            }
        });

        // JavaScript for Full-Screen Toggle
        document.addEventListener('DOMContentLoaded', function () {
            const chatWindow = document.querySelector('.chat-window');
            const titleBar = document.querySelector('.chat-title-bar');

            // Create the fullscreen toggle button dynamically
            const fullscreenButton = document.createElement('button');
            fullscreenButton.classList.add('fullscreen-toggle');
            fullscreenButton.textContent = '‚§¢';
            fullscreenButton.onclick = function () {
                if (chatWindow.classList.contains('fullscreen')) {
                    chatWindow.classList.remove('fullscreen');
                } else {
                    chatWindow.classList.add('fullscreen');
                }
            };

            // Append the toggle button to the title bar
            if (titleBar) {
                titleBar.appendChild(fullscreenButton);
            }
        });
    </script>
    <!-- End chat bot -->



</body>

</html>